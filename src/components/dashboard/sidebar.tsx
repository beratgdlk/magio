"use client";

import { useAuth } from '@/contexts/auth-context';
import { X } from 'lucide-react';
import { useRouter } from 'next/navigation';
import { useState } from 'react';

const DashboardIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16.7002 5.68471L11.9002 2.32637C10.5919 1.40971 8.58354 1.45971 7.32524 2.43471L3.15024 5.69304C2.3169 6.34304 1.65857 7.67637 1.65857 8.72633V14.4763C1.65857 16.6013 3.38357 18.3347 5.50857 18.3347H14.4919C16.6169 18.3347 18.3419 16.6097 18.3419 14.4847V8.83466C18.3419 7.70971 17.6169 6.32637 16.7002 5.68471ZM10.6252 15.0013C10.6252 15.343 10.3419 15.6263 10.0002 15.6263C9.65854 15.6263 9.37521 15.343 9.37521 15.0013V12.5013C9.37521 12.1597 9.65854 11.8763 10.0002 11.8763C10.3419 11.8763 10.6252 12.1597 10.6252 12.5013V15.0013Z" fill="currentColor"/>
  </svg>
);

const TransactionsIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.4916 1.66667H6.50829C3.47496 1.66667 1.66663 3.47501 1.66663 6.50834V13.4833C1.66663 16.525 3.47496 18.3333 6.50829 18.3333H13.4833C16.5166 18.3333 18.325 16.525 18.325 13.4917V6.50834C18.3333 3.47501 16.525 1.66667 13.4916 1.66667ZM14.3833 8.30001L12.4583 10.7833C12.2166 11.0917 11.875 11.2917 11.4833 11.3333C11.0916 11.3833 10.7083 11.275 10.4 11.0333L8.87496 9.83334C8.81663 9.78334 8.74996 9.78334 8.71663 9.79167C8.68329 9.79167 8.62496 9.80834 8.57496 9.87501L6.59163 12.45C6.46663 12.6083 6.28329 12.6917 6.09996 12.6917C5.96663 12.6917 5.83329 12.65 5.71663 12.5583C5.44163 12.35 5.39163 11.9583 5.59996 11.6833L7.58329 9.10834C7.82496 8.80001 8.16663 8.60001 8.55829 8.55001C8.94163 8.50001 9.33329 8.60834 9.64163 8.85001L11.1666 10.05C11.225 10.1 11.2833 10.1 11.325 10.0917C11.3583 10.0917 11.4166 10.075 11.4666 10.0083L13.3916 7.52501C13.6 7.25001 14 7.20001 14.2666 7.41667C14.5416 7.64167 14.5916 8.03334 14.3833 8.30001Z" fill="currentColor"/>
  </svg>
);

const InvoicesIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.15 1.66667H6.84996C3.69996 1.66667 2.91663 2.50834 2.91663 5.86667V15.25C2.91663 17.4667 4.13329 17.9917 5.60829 16.4083L5.61663 16.4C6.29996 15.675 7.34163 15.7333 7.93329 16.525L8.77496 17.65C9.44996 18.5417 10.5416 18.5417 11.2166 17.65L12.0583 16.525C12.6583 15.725 13.7 15.6667 14.3833 16.4C15.8666 17.9833 17.075 17.4583 17.075 15.2417V5.86667C17.0833 2.50834 16.3 1.66667 13.15 1.66667ZM12.2916 8.95834H7.70829C7.36663 8.95834 7.08329 8.67501 7.08329 8.33334C7.08329 7.99167 7.36663 7.70834 7.70829 7.70834H12.2916C12.6333 7.70834 12.9166 7.99167 12.9166 8.33334C12.9166 8.67501 12.6333 8.95834 12.2916 8.95834Z" fill="currentColor"/>
  </svg>
);

const WalletsIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.375 3.29232V6.45898H11.125V3.29232C11.125 3.06732 10.925 2.95898 10.7917 2.95898C10.75 2.95898 10.7084 2.96732 10.6667 2.98398L4.05837 5.47565C3.61671 5.64232 3.33337 6.05898 3.33337 6.53398V7.09232C2.57504 7.65898 2.08337 8.56733 2.08337 9.59233V6.53398C2.08337 5.54232 2.69171 4.65898 3.61671 4.30898L10.2334 1.80898C10.4167 1.74232 10.6084 1.70898 10.7917 1.70898C11.625 1.70898 12.375 2.38398 12.375 3.29232ZM17.9173 12.0833V12.9167C17.9173 13.1417 17.7423 13.325 17.509 13.3333H16.2923C15.8506 13.3333 15.4506 13.0083 15.4173 12.575C15.3923 12.3167 15.4923 12.075 15.659 11.9083C15.809 11.75 16.0173 11.6667 16.2423 11.6667H17.5006C17.7423 11.675 17.9173 11.8583 17.9173 12.0833Z" fill="currentColor"/>
    <path d="M16.2334 10.7917H17.0834C17.5417 10.7917 17.9167 10.4167 17.9167 9.95834V9.59168C17.9167 7.86668 16.5084 6.45834 14.7834 6.45834H5.21671C4.50837 6.45834 3.85837 6.69168 3.33337 7.09168C2.57504 7.65834 2.08337 8.56668 2.08337 9.59168V15.2C2.08337 16.925 3.49171 18.3333 5.21671 18.3333H14.7834C16.5084 18.3333 17.9167 16.925 17.9167 15.2V15.0417C17.9167 14.5833 17.5417 14.2083 17.0834 14.2083H16.3584C15.5584 14.2083 14.7917 13.7167 14.5834 12.9417C14.4084 12.3083 14.6167 11.7 15.0334 11.2917C15.3417 10.975 15.7667 10.7917 16.2334 10.7917ZM11.6667 10.625H5.83337C5.49171 10.625 5.20837 10.3417 5.20837 10C5.20837 9.65834 5.49171 9.37501 5.83337 9.37501H11.6667C12.0084 9.37501 12.2917 9.65834 12.2917 10C12.2917 10.3417 12.0084 10.625 11.6667 10.625Z" fill="currentColor"/>
  </svg>
);

const SettingsIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M16.7503 7.68458C15.242 7.68458 14.6253 6.61792 15.3753 5.30958C15.8087 4.55125 15.5503 3.58458 14.792 3.15125L13.3503 2.32625C12.692 1.93458 11.842 2.16792 11.4503 2.82625L11.3587 2.98458C10.6087 4.29292 9.37533 4.29292 8.61699 2.98458L8.52533 2.82625C8.15033 2.16792 7.30033 1.93458 6.64199 2.32625L5.20033 3.15125C4.44199 3.58458 4.18366 4.55958 4.61699 5.31792C5.37533 6.61792 4.75866 7.68458 3.25033 7.68458C2.38366 7.68458 1.66699 8.39291 1.66699 9.26791V10.7346C1.66699 11.6012 2.37533 12.3179 3.25033 12.3179C4.75866 12.3179 5.37533 13.3846 4.61699 14.6929C4.18366 15.4512 4.44199 16.4179 5.20033 16.8512L6.64199 17.6762C7.30033 18.0679 8.15033 17.8346 8.54199 17.1762L8.63366 17.0179C9.38366 15.7096 10.617 15.7096 11.3753 17.0179L11.467 17.1762C11.8587 17.8346 12.7087 18.0679 13.367 17.6762L14.8087 16.8512C15.567 16.4179 15.8253 15.4429 15.392 14.6929C14.6337 13.3846 15.2503 12.3179 16.7587 12.3179C17.6253 12.3179 18.342 11.6096 18.342 10.7346V9.26791C18.3337 8.40125 17.6253 7.68458 16.7503 7.68458ZM10.0003 12.7096C8.50866 12.7096 7.29199 11.4929 7.29199 10.0012C7.29199 8.50958 8.50866 7.29292 10.0003 7.29292C11.492 7.29292 12.7087 8.50958 12.7087 10.0012C12.7087 11.4929 11.492 12.7096 10.0003 12.7096Z" fill="currentColor"/>
  </svg>
);

const HelpIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M14.1666 2.02472H5.83329C3.33329 2.02472 1.66663 3.69139 1.66663 6.19139V11.1914C1.66663 13.6914 3.33329 15.3581 5.83329 15.3581V17.1331C5.83329 17.7997 6.57496 18.1997 7.12496 17.8247L10.8333 15.3581H14.1666C16.6666 15.3581 18.3333 13.6914 18.3333 11.1914V6.19139C18.3333 3.69139 16.6666 2.02472 14.1666 2.02472ZM9.99996 12.1664C9.64996 12.1664 9.37496 11.8831 9.37496 11.5414C9.37496 11.1997 9.64996 10.9164 9.99996 10.9164C10.35 10.9164 10.625 11.1997 10.625 11.5414C10.625 11.8831 10.35 12.1664 9.99996 12.1664ZM11.05 8.70806C10.725 8.92473 10.625 9.0664 10.625 9.29973V9.47473C10.625 9.81639 10.3416 10.0997 9.99996 10.0997C9.65829 10.0997 9.37496 9.81639 9.37496 9.47473V9.29973C9.37496 8.33305 10.0833 7.85805 10.35 7.67472C10.6583 7.46639 10.7583 7.32472 10.7583 7.10805C10.7583 6.69139 10.4166 6.34972 9.99996 6.34972C9.58329 6.34972 9.24163 6.69139 9.24163 7.10805C9.24163 7.44972 8.95829 7.73305 8.61663 7.73305C8.27496 7.73305 7.99163 7.44972 7.99163 7.10805C7.99163 5.99972 8.89163 5.09972 9.99996 5.09972C11.1083 5.09972 12.0083 5.99972 12.0083 7.10805C12.0083 8.05805 11.3083 8.53306 11.05 8.70806Z" fill="currentColor"/>
  </svg>
);

const LogoutIcon = () => (
  <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M6.56528 10.0584C6.56528 9.71669 6.84861 9.43335 7.19027 9.43335H11.757V2.38335C11.7486 1.98335 11.432 1.66669 11.032 1.66669C6.12361 1.66669 2.69861 5.09169 2.69861 10C2.69861 14.9084 6.12361 18.3334 11.032 18.3334C11.4236 18.3334 11.7486 18.0167 11.7486 17.6167V10.675H7.19027C6.84027 10.6834 6.56528 10.4 6.56528 10.0584Z" fill="currentColor"/>
    <path d="M17.118 9.61683L14.7513 7.2418C14.5097 7.00013 14.1097 7.00013 13.868 7.2418C13.6263 7.48346 13.6263 7.88346 13.868 8.12513L15.168 9.42516H11.7513V10.6752H15.1597L13.8597 11.9752C13.618 12.2168 13.618 12.6168 13.8597 12.8585C13.9847 12.9835 14.143 13.0418 14.3013 13.0418C14.4597 13.0418 14.618 12.9835 14.743 12.8585L17.1097 10.4835C17.3597 10.2502 17.3597 9.8585 17.118 9.61683Z" fill="currentColor"/>
  </svg>
);

const menuItems = [
  { icon: DashboardIcon, label: 'Dashboard', href: '/dashboard', active: true },
  { icon: TransactionsIcon, label: 'Transactions', href: '#', active: false },
  { icon: InvoicesIcon, label: 'Invoices', href: '#', active: false },
  { icon: WalletsIcon, label: 'My Wallets', href: '#', active: false },
  { icon: SettingsIcon, label: 'Settings', href: '#', active: false },
];

interface SidebarProps {
  onCollapseChange?: (collapsed: boolean) => void;
  isMobileOpen?: boolean;
  onMobileClose?: () => void;
}

export const Sidebar = ({ onCollapseChange, isMobileOpen = false, onMobileClose }: SidebarProps) => {
  const router = useRouter();
  const { logout } = useAuth();
  const [isCollapsed, setIsCollapsed] = useState(false);

  const handleToggle = () => {
    const newState = !isCollapsed;
    setIsCollapsed(newState);
    onCollapseChange?.(newState);
  };

  const handleLogout = () => {
    logout();
    router.push('/sign-in');
  };

  return (
    <>
      {/* Mobile Overlay */}
      {isMobileOpen && (
        <div 
          className="fixed inset-0 bg-black/50 z-40 lg:hidden"
          onClick={onMobileClose}
        />
      )}
      
      {/* Sidebar */}
      <aside className={`
        ${isCollapsed ? 'w-20' : 'w-64'} 
        bg-gray-50 border-r h-screen flex-col transition-all duration-300 fixed z-50
        ${isMobileOpen ? 'flex' : 'hidden lg:flex'}
      `}>
      <div className="p-6 flex items-center justify-between">
        {/* Mobile Logo (no collapse) */}
        <div className="lg:hidden">
          <svg width="122" height="30" viewBox="0 0 122 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 0C26.4183 0 30 3.58172 30 8V22C30 26.4183 26.4183 30 22 30H8C4.0722 30 0.80675 27.1691 0.129883 23.4365C0.213515 23.6447 0.337384 23.7909 0.501953 23.875C0.836681 24.046 1.32523 24.1318 1.9668 24.1318C2.88722 22.7925 3.72347 21.4101 4.47656 19.9854C5.25759 18.5319 5.96977 17.2491 6.61133 16.1377C7.28072 14.9979 7.89432 14.1287 8.45215 13.5303C9.03788 12.9034 9.58192 12.7326 10.084 13.0176C10.2512 13.0176 10.4187 13.0601 10.5859 13.1455C10.781 13.2025 10.8788 13.3591 10.8789 13.6152C10.8789 13.7577 10.8366 13.9575 10.7529 14.2139C10.6693 14.4418 10.5715 14.6985 10.46 14.9834C10.3484 15.2683 10.2375 15.5394 10.126 15.7959C10.0145 16.0522 9.91666 16.2376 9.83301 16.3516C9.91628 16.3522 9.90243 16.5518 9.79102 16.9502C9.67945 17.3206 9.51215 17.805 9.28906 18.4033C9.09384 18.9732 8.88424 19.5859 8.66113 20.2412C8.43803 20.868 8.27076 21.4383 8.15918 21.9512C8.07551 22.4641 8.07554 22.849 8.15918 23.1055C8.27076 23.3335 8.54979 23.3335 8.99609 23.1055H9.41406C9.63721 23.077 9.77722 23.049 9.83301 23.0205C10.0562 22.536 10.3765 21.9226 10.7949 21.1816C11.2411 20.4409 11.7572 19.6717 12.3428 18.874C12.9563 18.0477 13.5982 17.2353 14.2676 16.4375C14.9649 15.6111 15.6621 14.8693 16.3594 14.2139C17.0846 13.5584 17.7968 13.0318 18.4941 12.6328C19.1913 12.234 19.8464 12.0342 20.46 12.0342C20.4599 12.8605 20.2926 13.6439 19.958 14.3848C19.6512 15.0972 19.2885 15.8245 18.8701 16.5654C18.4796 17.2778 18.1169 18.0332 17.7822 18.8311C17.4755 19.6003 17.3223 20.4409 17.3223 21.3525C17.1828 21.8939 17.1688 22.4072 17.2803 22.8916C17.3918 23.3476 17.5873 23.7614 17.8662 24.1318C18.1451 24.5022 18.4938 24.7869 18.9121 24.9863C19.3584 25.1858 19.847 25.2861 20.377 25.2861C20.8787 25.2861 21.269 25.2571 21.5479 25.2002C21.8546 25.1147 22.2871 24.9439 22.8447 24.6875C23.0958 24.5735 23.5148 24.3594 24.1006 24.0459C24.7142 23.7325 25.356 23.4189 26.0254 23.1055C26.6947 22.7635 27.3084 22.45 27.8662 22.165C28.4516 21.8518 28.8559 21.6239 29.0791 21.4814C29.3859 21.339 29.6096 21.1393 29.749 20.8828C29.9163 20.5979 30 20.2987 30 19.9854C29.219 19.9854 28.4796 20.1136 27.7822 20.3701C27.085 20.6266 26.3877 20.9112 25.6904 21.2246C25.0211 21.538 24.3379 21.8236 23.6406 22.0801C22.9434 22.3365 22.2178 22.4648 21.4648 22.4648C20.9906 22.2654 20.6552 21.9943 20.46 21.6523C20.2926 21.2819 20.2926 20.6829 20.46 19.8564C20.6552 19.0015 21.032 17.8188 21.5898 16.3086C22.1756 14.7982 22.9705 12.789 23.9746 10.2812C23.9746 9.85749 23.847 9.49898 23.5908 9.20605L23.3545 8.96387C23.0708 8.70215 22.7332 8.57129 22.3428 8.57129C21.8408 8.57137 21.1856 8.77114 20.377 9.16992C19.596 9.54035 18.7869 9.98223 17.9502 10.4951C17.1413 11.0081 16.3737 11.5212 15.6484 12.0342C14.9515 12.5184 14.4494 12.8601 14.1426 13.0596C14.1425 12.7748 14.1002 12.4473 14.0166 12.0771C13.933 11.6784 13.8079 11.3077 13.6406 10.9658C13.5012 10.5953 13.2916 10.2954 13.0127 10.0674C12.7617 9.81095 12.4403 9.68262 12.0498 9.68262C11.4642 9.68267 10.8786 9.79746 10.293 10.0254C9.73526 10.2533 9.2192 10.5235 8.74512 10.8369C8.46623 10.2956 8.08931 10.1674 7.61523 10.4521C7.16898 10.7086 6.65307 11.2219 6.06738 11.9912C5.5095 12.7322 4.90914 13.6446 4.26758 14.7275C3.65399 15.8103 3.06856 16.8793 2.51074 17.9336C1.95291 18.9879 1.45018 19.9565 1.00391 20.8398C0.572493 21.6663 0.244388 22.2391 0.0214844 22.5596C0.00870426 22.3747 9.60329e-09 22.1882 0 22V8C0 3.58172 3.58172 2.2549e-07 8 0H22ZM0.0214844 22.5596C0.0420177 22.8567 0.0777859 23.1492 0.129883 23.4365C0.0434711 23.2214 5.67017e-06 22.9403 0 22.5928C0.00744559 22.5823 0.0137904 22.5706 0.0214844 22.5596Z" fill="#1B212D"/>
    79|            <path d="M56.292 12.194H56.31V21.5H59.19V7.406H55.32L51.396 16.856L47.4 7.406H43.638V21.5H46.5V12.266H46.518L50.424 21.5H52.368L56.292 12.194ZM64.8222 21.68C66.1002 21.68 67.0542 21.212 67.7022 20.294L67.7382 20.312V21.5H70.3302V15.542C70.3302 13.022 68.6922 11.672 66.1542 11.672C64.0482 11.672 62.5722 12.428 61.7442 13.958L63.8862 15.236C64.3722 14.372 65.0742 13.94 66.0282 13.94C67.0362 13.94 67.5762 14.462 67.5762 15.128C67.5762 15.596 67.3242 15.83 66.8202 15.83H65.8662C64.7862 15.83 63.8862 15.992 63.0042 16.406C62.1402 16.82 61.5822 17.648 61.5822 18.782V18.818C61.5822 19.682 61.8882 20.384 62.5182 20.906C63.1482 21.428 63.9222 21.68 64.8222 21.68ZM65.6322 19.628C64.9122 19.628 64.4082 19.304 64.4082 18.656C64.4082 17.936 65.0562 17.558 65.8662 17.558H67.5582V17.774C67.5582 18.836 66.8382 19.628 65.6322 19.628ZM72.4493 23.552C73.3133 25.388 74.9333 26.306 77.3093 26.306C78.8393 26.306 80.0813 25.892 81.0352 25.046C82.0073 24.2 82.4933 23.03 82.4933 21.536V11.888H79.7393V13.058H79.7033C78.9653 12.176 77.9933 11.744 76.7873 11.744C75.4553 11.744 74.3573 12.23 73.5113 13.22C72.6653 14.192 72.2513 15.326 72.2513 16.604C72.2513 17.972 72.6833 19.124 73.5473 20.042C74.4113 20.96 75.5273 21.428 76.8953 21.428C78.0833 21.428 79.0013 20.996 79.6673 20.15H79.7033V21.608C79.7033 23.102 78.7493 23.858 77.2913 23.858C76.1213 23.858 75.2753 23.318 74.7353 22.238L72.4493 23.552ZM79.7753 16.604C79.7753 18.026 78.7493 18.98 77.4353 18.98C76.0853 18.98 75.0953 18.026 75.0953 16.604C75.0953 15.218 76.1213 14.246 77.4353 14.246C78.7853 14.246 79.7753 15.218 79.7753 16.604ZM87.9228 6.83H85.0968V21.5H87.9228V6.83ZM89.9168 16.712C89.9168 18.152 90.4208 19.34 91.4288 20.294C92.4368 21.248 93.6788 21.716 95.1548 21.716C96.6128 21.716 97.8548 21.23 98.8808 20.276C99.9068 19.304 100.411 18.098 100.411 16.658C100.411 15.236 99.9068 14.066 98.8988 13.112C97.8908 12.158 96.6488 11.672 95.1908 11.672C93.7328 11.672 92.4728 12.158 91.4468 13.13C90.4208 14.084 89.9168 15.29 89.9168 16.712ZM92.7968 16.676C92.7968 15.974 93.0308 15.38 93.4808 14.93C93.9308 14.462 94.4888 14.228 95.1548 14.228C95.8208 14.228 96.3968 14.462 96.8468 14.93C97.2968 15.38 97.5308 15.974 97.5308 16.676C97.5308 18.116 96.5228 19.142 95.1728 19.142C94.5068 19.142 93.9308 18.908 93.4808 18.458C93.0308 17.99 92.7968 17.396 92.7968 16.676ZM103.941 21.716C104.481 21.716 104.931 21.518 105.309 21.14C105.687 20.762 105.885 20.294 105.885 19.772C105.885 18.692 105.021 17.81 103.941 17.81C102.861 17.81 101.997 18.692 101.997 19.772C101.997 20.294 102.195 20.762 102.573 21.14C102.951 21.518 103.419 21.716 103.941 21.716Z" fill="#1B212D"/>
          </svg>
        </div>
        
        {/* Mobile Close Button */}
        <button 
          onClick={onMobileClose}
          className="lg:hidden p-2 hover:bg-gray-200 rounded-lg transition-colors"
        >
          <X className="h-5 w-5" />
        </button>
        
        {/* Desktop Logo Toggle */}
        <button onClick={handleToggle} className="hidden lg:flex items-center gap-2">
          {!isCollapsed && (
            <svg width="122" height="30" viewBox="0 0 122 30" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 0C26.4183 0 30 3.58172 30 8V22C30 26.4183 26.4183 30 22 30H8C4.0722 30 0.80675 27.1691 0.129883 23.4365C0.213515 23.6447 0.337384 23.7909 0.501953 23.875C0.836681 24.046 1.32523 24.1318 1.9668 24.1318C2.88722 22.7925 3.72347 21.4101 4.47656 19.9854C5.25759 18.5319 5.96977 17.2491 6.61133 16.1377C7.28072 14.9979 7.89432 14.1287 8.45215 13.5303C9.03788 12.9034 9.58192 12.7326 10.084 13.0176C10.2512 13.0176 10.4187 13.0601 10.5859 13.1455C10.781 13.2025 10.8788 13.3591 10.8789 13.6152C10.8789 13.7577 10.8366 13.9575 10.7529 14.2139C10.6693 14.4418 10.5715 14.6985 10.46 14.9834C10.3484 15.2683 10.2375 15.5394 10.126 15.7959C10.0145 16.0522 9.91666 16.2376 9.83301 16.3516C9.91628 16.3522 9.90243 16.5518 9.79102 16.9502C9.67945 17.3206 9.51215 17.805 9.28906 18.4033C9.09384 18.9732 8.88424 19.5859 8.66113 20.2412C8.43803 20.868 8.27076 21.4383 8.15918 21.9512C8.07551 22.4641 8.07554 22.849 8.15918 23.1055C8.27076 23.3335 8.54979 23.3335 8.99609 23.1055H9.41406C9.63721 23.077 9.77722 23.049 9.83301 23.0205C10.0562 22.536 10.3765 21.9226 10.7949 21.1816C11.2411 20.4409 11.7572 19.6717 12.3428 18.874C12.9563 18.0477 13.5982 17.2353 14.2676 16.4375C14.9649 15.6111 15.6621 14.8693 16.3594 14.2139C17.0846 13.5584 17.7968 13.0318 18.4941 12.6328C19.1913 12.234 19.8464 12.0342 20.46 12.0342C20.4599 12.8605 20.2926 13.6439 19.958 14.3848C19.6512 15.0972 19.2885 15.8245 18.8701 16.5654C18.4796 17.2778 18.1169 18.0332 17.7822 18.8311C17.4755 19.6003 17.3223 20.4409 17.3223 21.3525C17.1828 21.8939 17.1688 22.4072 17.2803 22.8916C17.3918 23.3476 17.5873 23.7614 17.8662 24.1318C18.1451 24.5022 18.4938 24.7869 18.9121 24.9863C19.3584 25.1858 19.847 25.2861 20.377 25.2861C20.8787 25.2861 21.269 25.2571 21.5479 25.2002C21.8546 25.1147 22.2871 24.9439 22.8447 24.6875C23.0958 24.5735 23.5148 24.3594 24.1006 24.0459C24.7142 23.7325 25.356 23.4189 26.0254 23.1055C26.6947 22.7635 27.3084 22.45 27.8662 22.165C28.4516 21.8518 28.8559 21.6239 29.0791 21.4814C29.3859 21.339 29.6096 21.1393 29.749 20.8828C29.9163 20.5979 30 20.2987 30 19.9854C29.219 19.9854 28.4796 20.1136 27.7822 20.3701C27.085 20.6266 26.3877 20.9112 25.6904 21.2246C25.0211 21.538 24.3379 21.8236 23.6406 22.0801C22.9434 22.3365 22.2178 22.4648 21.4648 22.4648C20.9906 22.2654 20.6552 21.9943 20.46 21.6523C20.2926 21.2819 20.2926 20.6829 20.46 19.8564C20.6552 19.0015 21.032 17.8188 21.5898 16.3086C22.1756 14.7982 22.9705 12.789 23.9746 10.2812C23.9746 9.85749 23.847 9.49898 23.5908 9.20605L23.3545 8.96387C23.0708 8.70215 22.7332 8.57129 22.3428 8.57129C21.8408 8.57137 21.1856 8.77114 20.377 9.16992C19.596 9.54035 18.7869 9.98223 17.9502 10.4951C17.1413 11.0081 16.3737 11.5212 15.6484 12.0342C14.9515 12.5184 14.4494 12.8601 14.1426 13.0596C14.1425 12.7748 14.1002 12.4473 14.0166 12.0771C13.933 11.6784 13.8079 11.3077 13.6406 10.9658C13.5012 10.5953 13.2916 10.2954 13.0127 10.0674C12.7617 9.81095 12.4403 9.68262 12.0498 9.68262C11.4642 9.68267 10.8786 9.79746 10.293 10.0254C9.73526 10.2533 9.2192 10.5235 8.74512 10.8369C8.46623 10.2956 8.08931 10.1674 7.61523 10.4521C7.16898 10.7086 6.65307 11.2219 6.06738 11.9912C5.5095 12.7322 4.90914 13.6446 4.26758 14.7275C3.65399 15.8103 3.06856 16.8793 2.51074 17.9336C1.95291 18.9879 1.45018 19.9565 1.00391 20.8398C0.572493 21.6663 0.244388 22.2391 0.0214844 22.5596C0.00870426 22.3747 9.60329e-09 22.1882 0 22V8C0 3.58172 3.58172 2.2549e-07 8 0H22ZM0.0214844 22.5596C0.0420177 22.8567 0.0777859 23.1492 0.129883 23.4365C0.0434711 23.2214 5.67017e-06 22.9403 0 22.5928C0.00744559 22.5823 0.0137904 22.5706 0.0214844 22.5596Z" fill="#1B212D"/>
              <path d="M56.292 12.194H56.31V21.5H59.19V7.406H55.32L51.396 16.856L47.4 7.406H43.638V21.5H46.5V12.266H46.518L50.424 21.5H52.368L56.292 12.194ZM64.8222 21.68C66.1002 21.68 67.0542 21.212 67.7022 20.294L67.7382 20.312V21.5H70.3302V15.542C70.3302 13.022 68.6922 11.672 66.1542 11.672C64.0482 11.672 62.5722 12.428 61.7442 13.958L63.8862 15.236C64.3722 14.372 65.0742 13.94 66.0282 13.94C67.0362 13.94 67.5762 14.462 67.5762 15.128C67.5762 15.596 67.3242 15.83 66.8202 15.83H65.8662C64.7862 15.83 63.8862 15.992 63.0042 16.406C62.1402 16.82 61.5822 17.648 61.5822 18.782V18.818C61.5822 19.682 61.8882 20.384 62.5182 20.906C63.1482 21.428 63.9222 21.68 64.8222 21.68ZM65.6322 19.628C64.9122 19.628 64.4082 19.304 64.4082 18.656C64.4082 17.936 65.0562 17.558 65.8662 17.558H67.5582V17.774C67.5582 18.836 66.8382 19.628 65.6322 19.628ZM72.4493 23.552C73.3133 25.388 74.9333 26.306 77.3093 26.306C78.8393 26.306 80.0813 25.892 81.0352 25.046C82.0073 24.2 82.4933 23.03 82.4933 21.536V11.888H79.7393V13.058H79.7033C78.9653 12.176 77.9933 11.744 76.7873 11.744C75.4553 11.744 74.3573 12.23 73.5113 13.22C72.6653 14.192 72.2513 15.326 72.2513 16.604C72.2513 17.972 72.6833 19.124 73.5473 20.042C74.4113 20.96 75.5273 21.428 76.8953 21.428C78.0833 21.428 79.0013 20.996 79.6673 20.15H79.7033V21.608C79.7033 23.102 78.7493 23.858 77.2913 23.858C76.1213 23.858 75.2753 23.318 74.7353 22.238L72.4493 23.552ZM79.7753 16.604C79.7753 18.026 78.7493 18.98 77.4353 18.98C76.0853 18.98 75.0953 18.026 75.0953 16.604C75.0953 15.218 76.1213 14.246 77.4353 14.246C78.7853 14.246 79.7753 15.218 79.7753 16.604ZM87.9228 6.83H85.0968V21.5H87.9228V6.83ZM89.9168 16.712C89.9168 18.152 90.4208 19.34 91.4288 20.294C92.4368 21.248 93.6788 21.716 95.1548 21.716C96.6128 21.716 97.8548 21.23 98.8808 20.276C99.9068 19.304 100.411 18.098 100.411 16.658C100.411 15.236 99.9068 14.066 98.8988 13.112C97.8908 12.158 96.6488 11.672 95.1908 11.672C93.7328 11.672 92.4728 12.158 91.4468 13.13C90.4208 14.084 89.9168 15.29 89.9168 16.712ZM92.7968 16.676C92.7968 15.974 93.0308 15.38 93.4808 14.93C93.9308 14.462 94.4888 14.228 95.1548 14.228C95.8208 14.228 96.3968 14.462 96.8468 14.93C97.2968 15.38 97.5308 15.974 97.5308 16.676C97.5308 18.116 96.5228 19.142 95.1728 19.142C94.5068 19.142 93.9308 18.908 93.4808 18.458C93.0308 17.99 92.7968 17.396 92.7968 16.676ZM103.941 21.716C104.481 21.716 104.931 21.518 105.309 21.14C105.687 20.762 105.885 20.294 105.885 19.772C105.885 18.692 105.021 17.81 103.941 17.81C102.861 17.81 101.997 18.692 101.997 19.772C101.997 20.294 102.195 20.762 102.573 21.14C102.951 21.518 103.419 21.716 103.941 21.716Z" fill="#1B212D"/>
            </svg>
          )}
          {isCollapsed && (
            <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 0C26.4183 0 30 3.58172 30 8V22C30 26.4183 26.4183 30 22 30H8C4.0722 30 0.80675 27.1691 0.129883 23.4365C0.213515 23.6447 0.337384 23.7909 0.501953 23.875C0.836681 24.046 1.32523 24.1318 1.9668 24.1318C2.88722 22.7925 3.72347 21.4101 4.47656 19.9854C5.25759 18.5319 5.96977 17.2491 6.61133 16.1377C7.28072 14.9979 7.89432 14.1287 8.45215 13.5303C9.03788 12.9034 9.58192 12.7326 10.084 13.0176C10.2512 13.0176 10.4187 13.0601 10.5859 13.1455C10.781 13.2025 10.8788 13.3591 10.8789 13.6152C10.8789 13.7577 10.8366 13.9575 10.7529 14.2139C10.6693 14.4418 10.5715 14.6985 10.46 14.9834C10.3484 15.2683 10.2375 15.5394 10.126 15.7959C10.0145 16.0522 9.91666 16.2376 9.83301 16.3516C9.91628 16.3522 9.90243 16.5518 9.79102 16.9502C9.67945 17.3206 9.51215 17.805 9.28906 18.4033C9.09384 18.9732 8.88424 19.5859 8.66113 20.2412C8.43803 20.868 8.27076 21.4383 8.15918 21.9512C8.07551 22.4641 8.07554 22.849 8.15918 23.1055C8.27076 23.3335 8.54979 23.3335 8.99609 23.1055H9.41406C9.63721 23.077 9.77722 23.049 9.83301 23.0205C10.0562 22.536 10.3765 21.9226 10.7949 21.1816C11.2411 20.4409 11.7572 19.6717 12.3428 18.874C12.9563 18.0477 13.5982 17.2353 14.2676 16.4375C14.9649 15.6111 15.6621 14.8693 16.3594 14.2139C17.0846 13.5584 17.7968 13.0318 18.4941 12.6328C19.1913 12.234 19.8464 12.0342 20.46 12.0342C20.4599 12.8605 20.2926 13.6439 19.958 14.3848C19.6512 15.0972 19.2885 15.8245 18.8701 16.5654C18.4796 17.2778 18.1169 18.0332 17.7822 18.8311C17.4755 19.6003 17.3223 20.4409 17.3223 21.3525C17.1828 21.8939 17.1688 22.4072 17.2803 22.8916C17.3918 23.3476 17.5873 23.7614 17.8662 24.1318C18.1451 24.5022 18.4938 24.7869 18.9121 24.9863C19.3584 25.1858 19.847 25.2861 20.377 25.2861C20.8787 25.2861 21.269 25.2571 21.5479 25.2002C21.8546 25.1147 22.2871 24.9439 22.8447 24.6875C23.0958 24.5735 23.5148 24.3594 24.1006 24.0459C24.7142 23.7325 25.356 23.4189 26.0254 23.1055C26.6947 22.7635 27.3084 22.45 27.8662 22.165C28.4516 21.8518 28.8559 21.6239 29.0791 21.4814C29.3859 21.339 29.6096 21.1393 29.749 20.8828C29.9163 20.5979 30 20.2987 30 19.9854C29.219 19.9854 28.4796 20.1136 27.7822 20.3701C27.085 20.6266 26.3877 20.9112 25.6904 21.2246C25.0211 21.538 24.3379 21.8236 23.6406 22.0801C22.9434 22.3365 22.2178 22.4648 21.4648 22.4648C20.9906 22.2654 20.6552 21.9943 20.46 21.6523C20.2926 21.2819 20.2926 20.6829 20.46 19.8564C20.6552 19.0015 21.032 17.8188 21.5898 16.3086C22.1756 14.7982 22.9705 12.789 23.9746 10.2812C23.9746 9.85749 23.847 9.49898 23.5908 9.20605L23.3545 8.96387C23.0708 8.70215 22.7332 8.57129 22.3428 8.57129C21.8408 8.57137 21.1856 8.77114 20.377 9.16992C19.596 9.54035 18.7869 9.98223 17.9502 10.4951C17.1413 11.0081 16.3737 11.5212 15.6484 12.0342C14.9515 12.5184 14.4494 12.8601 14.1426 13.0596C14.1425 12.7748 14.1002 12.4473 14.0166 12.0771C13.933 11.6784 13.8079 11.3077 13.6406 10.9658C13.5012 10.5953 13.2916 10.2954 13.0127 10.0674C12.7617 9.81095 12.4403 9.68262 12.0498 9.68262C11.4642 9.68267 10.8786 9.79746 10.293 10.0254C9.73526 10.2533 9.2192 10.5235 8.74512 10.8369C8.46623 10.2956 8.08931 10.1674 7.61523 10.4521C7.16898 10.7086 6.65307 11.2219 6.06738 11.9912C5.5095 12.7322 4.90914 13.6446 4.26758 14.7275C3.65399 15.8103 3.06856 16.8793 2.51074 17.9336C1.95291 18.9879 1.45018 19.9565 1.00391 20.8398C0.572493 21.6663 0.244388 22.2391 0.0214844 22.5596C0.00870426 22.3747 9.60329e-09 22.1882 0 22V8C0 3.58172 3.58172 2.2549e-07 8 0H22ZM0.0214844 22.5596C0.0420177 22.8567 0.0777859 23.1492 0.129883 23.4365C0.0434711 23.2214 5.67017e-06 22.9403 0 22.5928C0.00744559 22.5823 0.0137904 22.5706 0.0214844 22.5596Z" fill="#1B212D"/>
            </svg>
          )}
        </button>
      </div>

      <nav className="flex-1 px-4">
        {menuItems.map((item) => {
          const IconComponent = item.icon;
          return (
            <button
              key={item.label}
              onClick={() => {
                // Close mobile menu when clicking menu item
                if (window.innerWidth < 1024) {
                  onMobileClose?.();
                }
              }}
              className={`w-full flex items-center ${isCollapsed ? 'justify-center' : 'gap-3'} px-4 py-3 rounded-lg mb-1 transition-colors ${
                item.active
                  ? 'bg-[#C5E866] text-[#1B212D] font-medium'
                  : 'text-[#929EAE] hover:bg-gray-100'
              }`}
              title={isCollapsed ? item.label : ''}
            >
              <div className="w-5 h-5 flex items-center justify-center">
                <IconComponent />
              </div>
              {!isCollapsed && <span>{item.label}</span>}
            </button>
          );
        })}
      </nav>

      <div className="p-4 space-y-2">
        <button className={`w-full flex items-center ${isCollapsed ? 'justify-center' : 'gap-3'} px-4 py-3 rounded-lg text-[#929EAE] hover:bg-gray-100 transition-colors`} title={isCollapsed ? 'Help' : ''}>
          <div className="w-5 h-5 flex items-center justify-center">
            <HelpIcon />
          </div>
          {!isCollapsed && <span>Help</span>}
        </button>
        <button 
          onClick={handleLogout}
          className={`w-full flex items-center ${isCollapsed ? 'justify-center' : 'gap-3'} px-4 py-3 rounded-lg text-[#929EAE] hover:bg-gray-100 transition-colors`}
          title={isCollapsed ? 'Logout' : ''}
        >
          <div className="w-5 h-5 flex items-center justify-center">
            <LogoutIcon />
          </div>
          {!isCollapsed && <span>Logout</span>}
        </button>
      </div>
    </aside>
    </>
  );
};

